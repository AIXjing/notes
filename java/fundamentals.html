<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Java fundamentals - Note</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../favicon.svg">
        
        
        <link rel="shortcut icon" href="../favicon.png">
        
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        
        <link rel="stylesheet" href="../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../resources.html"><strong aria-hidden="true">1.</strong> Resources</a></li><li class="chapter-item expanded "><a href="../git.html"><strong aria-hidden="true">2.</strong> Git</a></li><li class="chapter-item expanded "><a href="../java.html"><strong aria-hidden="true">3.</strong> Java</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../java/fundamentals.html" class="active"><strong aria-hidden="true">3.1.</strong> Java fundamentals</a></li></ol></li><li class="chapter-item expanded "><a href="../database.html"><strong aria-hidden="true">4.</strong> Database</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../database/datastructure.html"><strong aria-hidden="true">4.1.</strong> Data Structure</a></li></ol></li><li class="chapter-item expanded "><a href="../frontend/frontend.html"><strong aria-hidden="true">5.</strong> Frontend</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../frontend/vue3.html"><strong aria-hidden="true">5.1.</strong> Vue3 note</a></li><li class="chapter-item expanded "><a href="../frontend/css.html"><strong aria-hidden="true">5.2.</strong> CSS</a></li></ol></li><li class="chapter-item expanded "><a href="../python/python.html"><strong aria-hidden="true">6.</strong> Python</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../python/Coursera-Michigan.html"><strong aria-hidden="true">6.1.</strong> Python-coursera-Michigan (incompleted)</a></li><li class="chapter-item expanded "><a href="../python/leanningfrommis.html"><strong aria-hidden="true">6.2.</strong> Learning in a hard way</a></li></ol></li><li class="chapter-item expanded "><a href="../statistics/statistics.html"><strong aria-hidden="true">7.</strong> Statistics rewind</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../statistics/MITx6.431x.html"><strong aria-hidden="true">7.1.</strong> Probability - The Science of Uncertainty and Data</a></li><li class="chapter-item expanded "><a href="../statistics/inferentialstat.html"><strong aria-hidden="true">7.2.</strong> Inferential Statistics</a></li><li class="chapter-item expanded "><a href="../statistics/python.html"><strong aria-hidden="true">7.3.</strong> Statistics with Python</a></li><li class="chapter-item expanded "><a href="../statistics/problems.html"><strong aria-hidden="true">7.4.</strong> Common problems</a></li><li class="chapter-item expanded "><a href="../statistics/Infe_stats_python.html"><strong aria-hidden="true">7.5.</strong> Inferential Statistics with Python </a></li></ol></li><li class="chapter-item expanded "><a href="../dataviztools/dataviztools.html"><strong aria-hidden="true">8.</strong> Data Viz</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../dataviztools/projects.html"><strong aria-hidden="true">8.1.</strong> Dataviz Projects</a></li></ol></li><li class="chapter-item expanded "><a href="../english/english.html"><strong aria-hidden="true">9.</strong> English</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../english/speaking.html"><strong aria-hidden="true">9.1.</strong> Speaking English</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Note</h1>

                    <div class="right-buttons">
                        
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#java-fundamentals" id="java-fundamentals">Java fundamentals</a></h1>
<h2><a class="header" href="#exceptions" id="exceptions">Exceptions</a></h2>
<p>In Java, an exception is an event that disrupts the normal flow of the program <sup class="footnote-reference"><a href="#1">1</a></sup>. </p>
<p>Many methods in Java to read and write files require that exceptions are handled. There are two main approaches: <em>lbyl (look at before you leap)</em> and <em>eafp (easy to ask for forgiveness than permission)</em>. </p>
<ol>
<li>
<p><strong>Look at before you leap</strong></p>
<p>In the following code, we check if the arguements are valid before operation.</p>
<pre><code class="language-java">private static int divideLBYL(int x, int y) {
    if (y != 0) return x / y;
    else return 0;
}
</code></pre>
</li>
<li>
<p><strong>Easy to ask forgiveness than permission</strong></p>
<p>In this approach, we run the method first and catch the exception if any exception (exception handler).</p>
<pre><code class="language-java">private static int divideEAFP(int x, int y) {
    try {
        return x / y;
    } catch(ArithmetricException e) {
        return 0;
    }
}
</code></pre>
</li>
</ol>
<h3><a class="header" href="#checked-exception-vs-unchecked-exception" id="checked-exception-vs-unchecked-exception">Checked Exception vs. Unchecked Exception</a></h3>
<p>The <em>Exception Handling in Java</em> is one of the powerful mechanism to handle the runtime errors so that the normal flow of the application can be maintained. The Exception class family in Java is depicted below:</p>
<p><img src="https://user-images.githubusercontent.com/41487483/169143928-35f36c13-4a82-424d-84e3-dd8d2ac3780f.png" alt="image" /></p>
<p>There are basically three types of exceptions: <em>Checked Exception</em>, <em>Unchecked Exception</em>, and <em>Error</em>. Sometimes, Error can be considered as Unchecked Exception. </p>
<ul>
<li>
<p><strong>Checked Exceptions</strong>: All the subclasses of Exception class except for RuntimeException and its subclasses are checked exceptions. That is, if there is an checked exception in the code, the program won't be compiled if no exception handling.</p>
<pre><code class="language-java">public class CheckedVsUnchecked {
    public static void main (String[] args) {
        readFile(&quot;myFile.txt&quot;);
    }

    private static void readFile (String fileName) {
        // will throw a FileNotFoundException, that is checked exception
        FileReader file = new FileReader(fileName);
    }
}
</code></pre>
<p>The above code would not compile because fileName may not exist, which will throw a <em>FileNotFoundException</em> (unchecked expcetion). To handle unchecked exception, we can use either <em>try-catch</em> method or <code>throws</code> exception in the function signature <sup class="footnote-reference"><a href="#2">2</a></sup>. The difference between <code>throw</code> within a method and <code>throws</code> in a method signature can be found in this <a href="https://www.javatpoint.com/difference-between-throw-and-throws-in-java">article</a>.</p>
<pre><code class="language-java">public class CheckedVsUnchecked {
    // it is important to throw an exception in main method as well
    // in order to catch the exception thrown by readFile method
    public static void main (String[] args) throws FileNotFoundException {
        readFile(&quot;myFile.txt&quot;);
    }

    private static void readFile (String fileName) throws FileNotFoundException {
        FileReader file = new FileReader(fileName);
    }
}
</code></pre>
</li>
<li>
<p><strong>Unchekced Exception</strong>: The RuntimeException subclass of the Exception class and all its subclasses are unchecked exception. Runtime will not check this type of exception and the program will be compile but may fail. For example,</p>
<pre><code class="language-java">public class CheckedVsUnchecked {
    public static void main (String[] args) {
        String name = null;
        printLength(name);  // will throw NullPointerException even compiled.
    }

    private static void printLength (String myString) {
        System.out.println(myString.length());
    }
}
</code></pre>
<p>In this case, it is better to use try-catch method to handle this exception. </p>
</li>
</ul>
<h3><a class="header" href="#call-stack" id="call-stack">Call stack</a></h3>
<p>When throwing an expcetion, Java automatically prints a <u>stack trace</u>, which is showing the <u>call stack</u>. Each <u>thread</u> of execution has its own call stack, and the thread is shown in the first line of the stack call.</p>
<h3><a class="header" href="#try-catch-finally" id="try-catch-finally">try-catch(-finally)</a></h3>
<p>A common way to handle exception is to throw a new exception with some information to indicate where might go wrong. For example,</p>
<pre><code class="language-java">private static int divide() {
    int x, y;
    try {
        x = getInt(); // a self-defined method that can get input from typing the keyboard.
        y = getInt();
        return x / y;   
    } catch (NoSuchElementException e) {
        throw new NoSuchElementException(&quot;no suitable input&quot;);
    } catch (ArithmetricException e) {
        throw new ArithmetricException(&quot;attempt to divide by zero&quot;);
    }   
}
</code></pre>
<p>Alternatively, we could catch multiple exception in the main methods, such as </p>
<pre><code class="language-java">private static void main (String[] args) {
    try {
        int result = divide();
    } catch (ArithmetricException | NoSuchElementException e) {  // it is not logical symbol or
        System.out.println(e.toString);
        System.out.println(&quot;Unable to excute, the computer shutting down&quot;);
    }
}
</code></pre>
<p>When Java code throws an exception, the runtime looks up the stack for a method that has a handler (like <code>catch</code>) that can process it. If it finds one, it passes the exception to it. If it doesn't, the program exists. </p>
<p>No matter whether an exception occur in try-block or not, <code>finally</code> will ALWAYS be excuted. For example,</p>
<pre><code class="language-java">// Java program to demonstrate control flow of try-catch-finally clause
// when exception occur in try block but not handled in catch block
class GFG {
    public static void main (String[] args) {  
        // array of size 4.
        int[] arr = new int[4];
         
        try {
            int i = arr[4];
            // this statement will never execute
            // as exception is raised by above statement
            System.out.println(&quot;Inside try block&quot;);
        }
        // not a appropriate handler so the following statement will also not execute
        catch(NullPointerException ex) {
            System.out.println(&quot;Exception has been caught&quot;);
        }
         
        finally { // will execute
            System.out.println(&quot;finally block executed&quot;);
        } 
        // rest program will not execute
        System.out.println(&quot;Outside try-catch-finally clause&quot;);
    }
}
</code></pre>
<p>However, if <code>NullPointerException</code> was replaced by <code>ArrayIndexOutOfBoundsException</code>, the correct exception, the statement in the <code>catch</code> will execute.</p>
<p>Even if there is a <code>return</code> in <code>try</code> block, the <code>finally</code> statement will also be excuted.</p>
<pre><code class="language-java">private static int printAnumber () {
    try {
        return 3;
    } 
    catch (Exception e) {
        return 4;
    }
    finally {
        return 5;
    }
    // output: 5, becauase the finally statement will override the above statement.
}
</code></pre>
<h2><a class="header" href="#read-and-write-file" id="read-and-write-file">Read and Write File</a></h2>
<p>If we want to make object persist, we need to write object into a file. See an example as below. Remember to close the file after writing. Failing to close streams can really cause problems such as <em>resouce link leak</em> and <em>lcoked file</em>.</p>
<h2><a class="header" href="#java-thread" id="java-thread">Java Thread</a></h2>
<h3><a class="header" href="#what-is-thread" id="what-is-thread">What is thread?</a></h3>
<blockquote>
<p>In <em>Computer Science</em>, a <em>thread</em> of execution is the smallest sequence of programmed instructions that can be managed independently by a scheduler (a part of operating system). 线程是操作系统能够进行运算调度的最小单位。In most of cases, a thread is a component of a process. The multiple threads of a given process may be executed concurrently (via multithreading capabilities), sharing resources such as memory, while different processes do not share these resources <sup class="footnote-reference"><a href="#3">3</a></sup>. Below is an illustration of relationship between program, process, thread, scheduling, etc.</p>
</blockquote>
<p><img src="https://user-images.githubusercontent.com/41487483/169391153-e0849cf3-2922-4efa-8da5-3a1958a012d6.png" alt="image" /></p>
<p>The following image shows two threads running on one process. </p>
<p><img src="https://user-images.githubusercontent.com/41487483/169391837-d4b6ea52-419d-4148-8721-54260db9ba16.png" alt="image" /></p>
<p>In Java, a <em>thread</em> is a thread of excution in a program, i.e., the direction or path that is taken while a program is being excuted. The <em>thread</em> class extends <em>Object</em> and implements <em>Runnable</em> <sup class="footnote-reference"><a href="#4">4</a></sup>. A thread enables multiple operations to take place within a single method. Each thread in the program often has its own program counter, stack, and local variables.</p>
<h3><a class="header" href="#creating-a-thread" id="creating-a-thread">Creating a Thread</a></h3>
<p>There are two ways to create a new thread of execution. One is to declare a class to be a subclass of Thread. This subclass should <strong>override</strong> the <code>run</code> method of class Thread. An instance of the subclass can then be allocated and started. </p>
<p>To execute a thread, we need to call the <code>start()</code> function instead of <code>run</code>. The purpose of <code>start()</code> is to create a seperate call stack for the thread. See an example below:</p>
<pre><code class="language-java">class ThreadTest extends Thread {
    @Override
    public void run(){
        try {
            System.out.println(&quot;Thread &quot; 
                            + Thread.currentThread().getId()
                            + &quot; is running&quot; )
        } 
        catch (Exception e) {
            e.printStackTrace();
        }
        
    }

    public static void main (String[] args) {
        for (int i = 0; i &lt; 8; i ++) {
            ThreadTest test = new ThreadTest();
            test.run();
        }
    }
}
</code></pre>
<pre><code>output:
Thread 1 is running
Thread 1 is running
Thread 1 is running
Thread 1 is running
Thread 1 is running
Thread 1 is running
Thread 1 is running
Thread 1 is running
</code></pre>
<p>Here only Thread 1 is running because of calling <code>run()</code> method directly, and the same call stack is used for all new thread. But if we change <code>test.run()</code> to <code>test.start()</code>, then we will have an output like <code>Thread 10 is running</code>, in which the number is randomly allocated. <sup class="footnote-reference"><a href="#5">5</a></sup></p>
<pre><code class="language-java">public class MultiThreads extends Thread {
    @Override
    public void run() {
        for (int i = 0; i &lt; 5; i++) {
            System.out.println(i);
        }
        
        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
<h4><a class="header" href="#extending-thread-class" id="extending-thread-class">Extending Thread Class</a></h4>
<hr />
<p>reference</p>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>https://www.javatpoint.com/exception-handling-in-java</p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p>https://www.youtube.com/watch?v=bCPClyGsVhc</p>
</div>
<div class="footnote-definition" id="3"><sup class="footnote-definition-label">3</sup>
<p>https://en.wikipedia.org/wiki/Thread_(computing)</p>
</div>
<div class="footnote-definition" id="4"><sup class="footnote-definition-label">4</sup>
<p>https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html</p>
</div>
<div class="footnote-definition" id="5"><sup class="footnote-definition-label">5</sup>
<p>https://www.geeksforgeeks.org/start-function-multithreading-java/</p>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../java.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../database.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../java.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../database.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
